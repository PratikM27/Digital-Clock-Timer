<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Clock & Timer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: #0a0a0a;
            color: #ffffff;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            text-align: center;
            padding: 20px;
            width: 100%;
            max-width: 1200px;
        }

        /* Top Buttons */
        .fullscreen-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 10px 20px;
            font-size: 1rem;
            z-index: 1000;
        }

        .view-toggle {
            position: fixed;
            top: 20px;
            left: 20px;
            padding: 10px 20px;
            font-size: 1rem;
            z-index: 1000;
        }

        /* Clock Display */
        .clock-display {
            font-size: clamp(4rem, 15vw, 12rem);
            font-weight: bold;
            letter-spacing: 0.1em;
            margin-bottom: 20px;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }

        .date-display {
            font-size: clamp(1.5rem, 4vw, 3rem);
            margin-bottom: 40px;
            opacity: 0.9;
        }

        .status-indicator {
            margin-top: 20px;
            font-size: 1.2rem;
            opacity: 0.7;
        }

        /* Timer Display */
        .timer-display {
            font-size: clamp(5rem, 18vw, 15rem);
            font-weight: bold;
            letter-spacing: 0.1em;
            margin-bottom: 20px;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
        }

        .timer-status {
            font-size: clamp(1.2rem, 3vw, 2rem);
            margin-bottom: 30px;
            opacity: 0.8;
        }

        /* View Management */
        .clock-view,
        .timer-view {
            width: 100%;
        }

        .clock-view.hidden,
        .timer-view.hidden {
            display: none;
        }

        /* Controls */
        .controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin-top: 40px;
        }

        .mode-toggle {
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
            justify-content: center;
        }

        button {
            background: transparent;
            color: #ffffff;
            border: 2px solid #ffffff;
            padding: 12px 30px;
            font-size: clamp(0.9rem, 2vw, 1.1rem);
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Courier New', monospace;
            border-radius: 5px;
        }

        button:hover {
            background: #ffffff;
            color: #0a0a0a;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 255, 255, 0.3);
        }

        button.active {
            background: #ffffff;
            color: #0a0a0a;
        }

        button:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        button:disabled:hover {
            background: transparent;
            color: #ffffff;
            transform: none;
            box-shadow: none;
        }

        button.success {
            border-color: #44ff44;
            color: #44ff44;
        }

        button.success:hover {
            background: #44ff44;
            color: #0a0a0a;
        }

        button.danger {
            border-color: #ff4444;
            color: #ff4444;
        }

        button.danger:hover {
            background: #ff4444;
            color: #ffffff;
        }

        /* Manual Controls */
        .manual-controls {
            display: none;
            flex-direction: column;
            gap: 20px;
            margin-top: 30px;
            padding: 30px;
            border: 2px solid #ffffff;
            border-radius: 10px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            width: 100%;
        }

        .manual-controls.active {
            display: flex;
        }

        .input-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            align-items: flex-end;
        }

        input[type="number"],
        input[type="date"],
        select {
            background: transparent;
            color: #ffffff;
            border: 2px solid #ffffff;
            padding: 10px 15px;
            font-size: 1.1rem;
            font-family: 'Courier New', monospace;
            border-radius: 5px;
            width: 80px;
            text-align: center;
        }

        select {
            width: 90px;
            cursor: pointer;
        }

        select option {
            background: #0a0a0a;
            color: #ffffff;
        }

        input[type="date"] {
            width: 200px;
        }

        input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        select:focus,
        input:focus {
            outline: none;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }

        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        input[type=number] {
            -moz-appearance: textfield;
        }

        label {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        /* Timer Specific */
        .timer-input-group {
            display: flex;
            gap: 20px;
            justify-content: center;
            align-items: flex-end;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .timer-input {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

        .timer-input input {
            width: 100px;
        }

        .timer-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 30px;
        }

        @media (max-width: 768px) {
            .input-group {
                flex-direction: column;
            }

            input[type="number"],
            input[type="date"] {
                width: 100%;
                max-width: 200px;
            }
        }
    </style>
</head>
<body>
    <!-- Top Navigation Buttons -->
    <button class="fullscreen-btn" id="fullscreenBtn">‚õ∂ Fullscreen</button>
    <button class="view-toggle" id="viewToggleBtn">‚è± Timer</button>

    <div class="container">
        <!-- CLOCK VIEW -->
        <div class="clock-view" id="clockView">
            <div class="clock-display" id="clockDisplay">00:00:00</div>
            <div class="date-display" id="dateDisplay">Loading...</div>
            <div class="status-indicator" id="statusIndicator">Mode: Auto (System Time)</div>

            <div class="controls">
                <div class="mode-toggle">
                    <button id="autoBtn" class="active">Auto Mode</button>
                    <button id="manualBtn">Manual Mode</button>
                    <button id="formatBtn">12-Hour Format</button>
                </div>

                <div class="manual-controls" id="manualControls">
                    <div class="input-group">
                        <div>
                            <label>Hours</label>
                            <input type="number" id="hoursInput" min="1" max="12" placeholder="HH">
                        </div>
                        <div>
                            <label>Minutes</label>
                            <input type="number" id="minutesInput" min="0" max="59" placeholder="MM">
                        </div>
                        <div>
                            <label>Seconds</label>
                            <input type="number" id="secondsInput" min="0" max="59" placeholder="SS">
                        </div>
                        <div>
                            <label>Period</label>
                            <select id="periodSelect">
                                <option value="AM">AM</option>
                                <option value="PM">PM</option>
                            </select>
                        </div>
                    </div>
                    <div class="input-group">
                        <div>
                            <label>Date</label>
                            <input type="date" id="dateInput">
                        </div>
                    </div>
                    <div class="input-group">
                        <button id="applyBtn">Apply Manual Time</button>
                        <button id="resetBtn">Reset to System Time</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- TIMER VIEW -->
        <div class="timer-view hidden" id="timerView">
            <div class="timer-display" id="timerDisplay">00:00:00</div>
            <div class="timer-status" id="timerStatus">Set your timer below</div>

            <div class="timer-input-group">
                <div class="timer-input">
                    <label>Hours</label>
                    <input type="number" id="timerHours" min="0" max="99" value="0" placeholder="HH">
                </div>
                <div class="timer-input">
                    <label>Minutes</label>
                    <input type="number" id="timerMinutes" min="0" max="59" value="0" placeholder="MM">
                </div>
                <div class="timer-input">
                    <label>Seconds</label>
                    <input type="number" id="timerSeconds" min="0" max="59" value="0" placeholder="SS">
                </div>
            </div>

            <div class="timer-controls">
                <button id="setTimerBtn" class="success">Set Timer</button>
                <button id="startTimerBtn" disabled>Start</button>
                <button id="pauseTimerBtn" disabled>Pause</button>
                <button id="resetTimerBtn" class="danger">Reset</button>
            </div>
        </div>
    </div>

    <script>
        // ===== STATE VARIABLES =====
        let isManualMode = false;
        let is24HourFormat = true;
        let manualTime = null;
        let manualDate = null;
        let clockInterval = null;
        let isTimerView = false;
        
        // Timer state
        let timerInterval = null;
        let remainingSeconds = 0;
        let timerRunning = false;
        let timerPaused = false;
        let totalTimerSeconds = 0;

        // ===== DOM ELEMENTS =====
        // Clock elements
        const clockDisplay = document.getElementById('clockDisplay');
        const dateDisplay = document.getElementById('dateDisplay');
        const statusIndicator = document.getElementById('statusIndicator');
        const autoBtn = document.getElementById('autoBtn');
        const manualBtn = document.getElementById('manualBtn');
        const formatBtn = document.getElementById('formatBtn');
        const manualControls = document.getElementById('manualControls');
        const hoursInput = document.getElementById('hoursInput');
        const minutesInput = document.getElementById('minutesInput');
        const secondsInput = document.getElementById('secondsInput');
        const periodSelect = document.getElementById('periodSelect');
        const dateInput = document.getElementById('dateInput');
        const applyBtn = document.getElementById('applyBtn');
        const resetBtn = document.getElementById('resetBtn');
        const fullscreenBtn = document.getElementById('fullscreenBtn');
        const viewToggleBtn = document.getElementById('viewToggleBtn');
        const clockView = document.getElementById('clockView');
        const timerView = document.getElementById('timerView');
        
        // Timer elements
        const timerDisplay = document.getElementById('timerDisplay');
        const timerStatus = document.getElementById('timerStatus');
        const timerHours = document.getElementById('timerHours');
        const timerMinutes = document.getElementById('timerMinutes');
        const timerSeconds = document.getElementById('timerSeconds');
        const setTimerBtn = document.getElementById('setTimerBtn');
        const startTimerBtn = document.getElementById('startTimerBtn');
        const pauseTimerBtn = document.getElementById('pauseTimerBtn');
        const resetTimerBtn = document.getElementById('resetTimerBtn');

        // ===== UTILITY FUNCTIONS =====
        function padZero(num) {
            return num.toString().padStart(2, '0');
        }

        function getFormattedTime(hours, minutes, seconds) {
            if (is24HourFormat) {
                return `${padZero(hours)}:${padZero(minutes)}:${padZero(seconds)}`;
            } else {
                const period = hours >= 12 ? 'PM' : 'AM';
                const displayHours = hours % 12 || 12;
                return `${padZero(displayHours)}:${padZero(minutes)}:${padZero(seconds)} ${period}`;
            }
        }

        function getFormattedDate(date) {
            const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
            const months = ['January', 'February', 'March', 'April', 'May', 'June', 
                          'July', 'August', 'September', 'October', 'November', 'December'];
            
            const dayName = days[date.getDay()];
            const monthName = months[date.getMonth()];
            const day = date.getDate();
            const year = date.getFullYear();
            
            return `${dayName}, ${monthName} ${padZero(day)}, ${year}`;
        }

        function formatTimerDisplay(seconds) {
            const h = Math.floor(seconds / 3600);
            const m = Math.floor((seconds % 3600) / 60);
            const s = seconds % 60;
            return `${padZero(h)}:${padZero(m)}:${padZero(s)}`;
        }

        // ===== CLOCK FUNCTIONS =====
        function updateClock() {
            let currentDate;
            
            if (isManualMode && manualTime && manualDate) {
                manualTime.setSeconds(manualTime.getSeconds() + 1);
                currentDate = manualTime;
            } else {
                currentDate = new Date();
            }

            const hours = currentDate.getHours();
            const minutes = currentDate.getMinutes();
            const seconds = currentDate.getSeconds();

            clockDisplay.textContent = getFormattedTime(hours, minutes, seconds);
            dateDisplay.textContent = getFormattedDate(currentDate);
        }

        function switchToAutoMode() {
            isManualMode = false;
            manualTime = null;
            manualDate = null;
            autoBtn.classList.add('active');
            manualBtn.classList.remove('active');
            manualControls.classList.remove('active');
            statusIndicator.textContent = 'Mode: Auto (System Time)';
            updateClock();
        }

        function switchToManualMode() {
            isManualMode = true;
            autoBtn.classList.remove('active');
            manualBtn.classList.add('active');
            manualControls.classList.add('active');
            statusIndicator.textContent = 'Mode: Manual (Set Your Time)';
            
            const now = new Date();
            let hours = now.getHours();
            const period = hours >= 12 ? 'PM' : 'AM';
            hours = hours % 12 || 12;
            
            hoursInput.value = padZero(hours);
            minutesInput.value = padZero(now.getMinutes());
            secondsInput.value = padZero(now.getSeconds());
            periodSelect.value = period;
            dateInput.value = now.toISOString().split('T')[0];
        }

        function applyManualTime() {
            let hours = parseInt(hoursInput.value) || 0;
            const minutes = parseInt(minutesInput.value) || 0;
            const seconds = parseInt(secondsInput.value) || 0;
            const period = periodSelect.value;
            const dateValue = dateInput.value;

            if (!dateValue) {
                alert('Please select a date');
                return;
            }

            if (hours < 1 || hours > 12 || minutes < 0 || minutes > 59 || seconds < 0 || seconds > 59) {
                alert('Please enter valid time values (Hours: 1-12, Minutes: 0-59, Seconds: 0-59)');
                return;
            }

            if (period === 'PM' && hours !== 12) {
                hours += 12;
            } else if (period === 'AM' && hours === 12) {
                hours = 0;
            }

            manualDate = new Date(dateValue);
            manualTime = new Date(dateValue);
            manualTime.setHours(hours);
            manualTime.setMinutes(minutes);
            manualTime.setSeconds(seconds);

            statusIndicator.textContent = 'Mode: Manual (Custom Time Active)';
            updateClock();
        }

        function toggleFormat() {
            is24HourFormat = !is24HourFormat;
            formatBtn.textContent = is24HourFormat ? '12-Hour Format' : '24-Hour Format';
            updateClock();
        }

        // ===== TIMER FUNCTIONS =====
        function setTimer() {
            const hours = parseInt(timerHours.value) || 0;
            const minutes = parseInt(timerMinutes.value) || 0;
            const seconds = parseInt(timerSeconds.value) || 0;

            if (hours === 0 && minutes === 0 && seconds === 0) {
                alert('Please set a valid timer duration');
                return;
            }

            totalTimerSeconds = (hours * 3600) + (minutes * 60) + seconds;
            remainingSeconds = totalTimerSeconds;
            timerDisplay.textContent = formatTimerDisplay(remainingSeconds);
            timerStatus.textContent = 'Timer set! Click Start to begin';
            
            startTimerBtn.disabled = false;
            pauseTimerBtn.disabled = true;
            setTimerBtn.textContent = 'Update Timer';
            timerRunning = false;
            timerPaused = false;

            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
        }

        function startTimer() {
            if (remainingSeconds === 0) {
                alert('Please set a timer first');
                return;
            }

            timerRunning = true;
            timerPaused = false;
            startTimerBtn.disabled = true;
            pauseTimerBtn.disabled = false;
            setTimerBtn.disabled = true;
            timerStatus.textContent = 'Timer running...';

            timerInterval = setInterval(() => {
                if (remainingSeconds > 0) {
                    remainingSeconds--;
                    timerDisplay.textContent = formatTimerDisplay(remainingSeconds);
                } else {
                    clearInterval(timerInterval);
                    timerInterval = null;
                    timerRunning = false;
                    timerStatus.textContent = '‚è∞ Time\'s up!';
                    startTimerBtn.disabled = true;
                    pauseTimerBtn.disabled = true;
                    setTimerBtn.disabled = false;
                    
                    if ('Notification' in window && Notification.permission === 'granted') {
                        new Notification('Timer Complete!', {
                            body: 'Your timer has finished.',
                            icon: '‚è∞'
                        });
                    }
                }
            }, 1000);
        }

        function pauseTimer() {
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
            timerRunning = false;
            timerPaused = true;
            startTimerBtn.disabled = false;
            pauseTimerBtn.disabled = true;
            setTimerBtn.disabled = false;
            timerStatus.textContent = 'Timer paused';
            startTimerBtn.textContent = 'Resume';
        }

        function resetTimer() {
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
            
            remainingSeconds = 0;
            totalTimerSeconds = 0;
            timerRunning = false;
            timerPaused = false;
            timerDisplay.textContent = '00:00:00';
            timerStatus.textContent = 'Set your timer below';
            
            timerHours.value = 0;
            timerMinutes.value = 0;
            timerSeconds.value = 0;
            
            startTimerBtn.disabled = true;
            pauseTimerBtn.disabled = true;
            setTimerBtn.disabled = false;
            setTimerBtn.textContent = 'Set Timer';
            startTimerBtn.textContent = 'Start';
        }

        // ===== VIEW TOGGLE =====
        function toggleView() {
            isTimerView = !isTimerView;
            
            if (isTimerView) {
                clockView.classList.add('hidden');
                timerView.classList.remove('hidden');
                viewToggleBtn.textContent = 'üïê Clock';
            } else {
                clockView.classList.remove('hidden');
                timerView.classList.add('hidden');
                viewToggleBtn.textContent = '‚è± Timer';
            }
        }

        // ===== FULLSCREEN =====
        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().then(() => {
                    fullscreenBtn.textContent = '‚õ∂ Exit Fullscreen';
                }).catch(err => {
                    alert(`Error attempting to enable fullscreen: ${err.message}`);
                });
            } else {
                document.exitFullscreen().then(() => {
                    fullscreenBtn.textContent = '‚õ∂ Fullscreen';
                });
            }
        }

        document.addEventListener('fullscreenchange', () => {
            if (!document.fullscreenElement) {
                fullscreenBtn.textContent = '‚õ∂ Fullscreen';
            }
        });

        // ===== EVENT LISTENERS =====
        // Clock
        autoBtn.addEventListener('click', switchToAutoMode);
        manualBtn.addEventListener('click', switchToManualMode);
        formatBtn.addEventListener('click', toggleFormat);
        applyBtn.addEventListener('click', applyManualTime);
        resetBtn.addEventListener('click', switchToAutoMode);
        
        // Timer
        setTimerBtn.addEventListener('click', setTimer);
        startTimerBtn.addEventListener('click', startTimer);
        pauseTimerBtn.addEventListener('click', pauseTimer);
        resetTimerBtn.addEventListener('click', resetTimer);
        
        // Navigation
        fullscreenBtn.addEventListener('click', toggleFullscreen);
        viewToggleBtn.addEventListener('click', toggleView);

        // ===== INITIALIZATION =====
        updateClock();
        clockInterval = setInterval(updateClock, 1000);

        // Request notification permission
        if ('Notification' in window && Notification.permission === 'default') {
            Notification.requestPermission();
        }
    </script>
</body>
</html>